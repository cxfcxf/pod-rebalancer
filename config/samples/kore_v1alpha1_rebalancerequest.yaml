---
apiVersion: kore.boring.io/v1alpha1
kind: RebalanceRequest
metadata:
  name: pod-rebalancer
  namespace: default
spec:
  # Check every 60 seconds (default)
  intervalSeconds: 60

  # Define maximum pods per hardware type
  # Pods are only evicted when a node exceeds its max
  nodeTargets:
    - nodeSelector:
        hardware: high-memory
      maxPodsPerNode: 7
    - nodeSelector:
        hardware: standard
      maxPodsPerNode: 5

  # Optional: Target specific namespaces (empty = all non-system namespaces)
  # namespaces:
  #   - default
  #   - production

  # Number of pods to evict per batch
  batchSize: 3

  # Seconds to wait between batches
  batchIntervalSeconds: 15

  # Set to true to preview evictions without acting
  dryRun: false
